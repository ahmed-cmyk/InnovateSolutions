{% extends "theme.html" %}
{% load staticfiles %}
{% load crispy_forms_tags %}
<!-- Stylesheet -->
{% block stylesheets %}
    <link rel="stylesheet" type="text/css" href="{% static 'css/EditJob.css' %}"/>
{% endblock %}

{% block title %}
    Edit Job - Murdoch Dubai Job Portal
{% endblock %}

{% block content %}
    <div id="editJobBody" class="col-12">
        <h2 class="text-center">Edit Job Listing</h2>
        <hr>
        <form action="{% url 'edit_job' job.id %}" method="post" enctype="multipart/form-data">{% csrf_token %}
            {% if user_type == 'employer' %}
                <div>{{ jobForm.job_title|as_crispy_field }}</div>
                <div>{{ jobForm.description|as_crispy_field }}</div>
                <div>{{ jobForm.location|as_crispy_field }}</div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.job_type_id|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.industry_id|as_crispy_field }}</div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.duration|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.duration_type|as_crispy_field }}</div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.salary_min|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.salary_max|as_crispy_field }}</div>
                </div>
                <div>{{ jobForm.skills|as_crispy_field }}</div>
            {% elif user_type == 'admin' %}
                <div>{{ jobForm.job_title|as_crispy_field }}</div>
                <div>{{ jobForm.description|as_crispy_field }}</div>
                <div>{{ jobForm.location|as_crispy_field }}</div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.job_type_id|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.industry_id|as_crispy_field }}</div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.duration|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.duration_type|as_crispy_field }}</div>
                </div>
                <div class="form-row">
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.salary_min|as_crispy_field }}</div>
                    <div class="form-group col-md-6 col-sm-6 col-xs-12">{{ jobForm.salary_max|as_crispy_field }}</div>
                </div>
                <div>{{ jobForm.skills|as_crispy_field }}</div>
                <hr>
                <div>{{ companyForm.company_name|as_crispy_field }}</div>
                <div>{{ companyForm.company_description|as_crispy_field }}</div>
                <div>{{ companyForm.company_website|as_crispy_field }}</div>
                <small>Website should contain http or https</small>
                <br><br>
                <div>{{ companyForm.contact_name|as_crispy_field }}</div>
                <div>{{ companyForm.phone_number|as_crispy_field }}</div>
                <small>Phone number should have country code appended before it</small>
                <br><br>
                <div>{{ companyForm.logo|as_crispy_field }}</div>
                <div>{{ companyForm.trade_license|as_crispy_field }}</div>
            {% endif %}

            <input type="hidden" name="next" value="{% url 'job_details' job.id %}">
                <div class="text-center">
                    <button class="btn btn-primary" type="submit">
                        Save Changes
                    </button>
                    <button class="btn btn-secondary" type="button">
                        <a class="text-decoration-none text-white" href="{% url 'job_details' job.id %}">Cancel</a>
                    </button>
                </div>
        </form>
    </div>
{% endblock %}